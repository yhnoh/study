## 성능 핵심 DB
DB 성능은 연동하는 모든 서버에 영향을 미친다. 때문에 대부분의 성능 최적화 작업은 DB 성능 최적화 작업과 연관되어 있다. <br/>
또한 대부분의 애플리케이션은 읽기 작업이 쓰기 작업보다 많기 때문에 읽기 성능 최적화 작업이 중요하다. <br/>
DB의 읽기 성능 최적화 작업의 핵심은 **_인덱스 생성 및 인덱스를 최대한 활용하는 것_**이다. 인덱스를 설정하지 않으면 테이블 풀 스캔을 하게되어 성능 저하가 발생할 수 있다. 또한 인덱스를 생성하였지만 잘못된 기준으로 인덱스를 생성하거나, 적절하지 않은 쿼리 작성으로 인해서 인덱스를 활용하지 못하는 경우도 많다. <br/>
만약 인덱스 생성 및 쿼리 최적화 작업을 통해서도 성능 향상이 되지 않는다면, 다음과 같은 방법들을 고려할 수 잇다. 
- 데이터베이스 스펙업을 통한 성능 향상
- 읽기 성능을 향상시키기 위한 복제 DB 도입
- 데이터베이스 설정 최적화
- 읽기 성능을 향상시키기 위한 캐시 도입
- 대기열 기반의 쓰기 지연 처리
- 읽기와 쓰기를 분리하기 위한 CQRS 패턴 도입

### 인덱스의 선정 기준
1. 조회 활용도가 높은 컬럼

2. 카디널리티가 높은 컬럼
3. 선택도가 낮은 컬럼
4. 수정 빈도가 낮은 컬럼


### 인덱스 활용하기

### 
커버링 인덱스



DB 풀 스캔 주의
데이터가 많아질 수록 데이터 검색 시간이 길어짐
데이터 건수가 몇건 안될경우에는 인덱스 사용이 불필요할 수 있지만 데이터 사용량이 많을 경우 인덱스 사용이 필수적임

#### 검색
DB 검색을 위해서 Like 검색을 자주 사용하지만 잘못된 사용으로 인해서 인덱스가 무용지물이 되는 경우가 많음
예를 들어서 이름이 '김'씨인 사람을 찾기 위해서 `%김` 또는 `%김%`으로 검색을 하게되면 인덱스를 사용할 수 없게됨
이럴경우에는 `김%`으로 검색을 해야 인덱스를 사용할 수 있음
검색엔진을 제공해주는 ElasticSearch, OpenSearch, MongoDB Atlas Search 등을 활용하는 방법도 고려할 수 있지만 검색엔진 도입의 어려움이 존재하면 Database의 Full Text Index 기능을 활용하는 방법도 고려할 수 있음

### 인덱스의 선정 기준
테이블의 데이터 건수가 많을 수록 인덱스의 중요성이 커짐
자주 조회되는 컬럼을 우선적으로 인덱스를 생성할 필요성 존재
    복합 인덱스의 경우에는 자주 함께 조회되는 컬럼을 우선적으로 선정

카디널리티(Cardinality)와 선택도(Selectivity) 
    선택도가 높은 컬럼을 우선적으로 인덱스를 생성하는 것이 좋음
    선택도가 높은 컬럼: 컬럼의 고유한 값의 비율이 높은 컬럼
    예를 들어 성별 컬럼(남/여)은 선택도가 낮고, 이메일 주소 컬럼은 선택도가 높음
커버링 인덱스 활용